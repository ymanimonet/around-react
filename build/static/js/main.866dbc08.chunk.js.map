{"version":3,"sources":["images/logo.svg","components/Header.js","images/edit.svg","utils/Api.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/ImagePopup.js","components/Footer.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","Logo","alt","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","res","ok","json","Promise","reject","Error","statusText","name","about","method","body","JSON","stringify","avatar","link","cardId","isLiked","authorization","CurrentUserContext","React","createContext","Card","card","handleCardClick","onCardLike","onCardDelete","setCardId","userInfo","useContext","isOwn","owner","_id","likes","some","i","cardDeleteButton","cardLikeButton","type","aria-label","onClick","length","Main","onEditAvatar","onEditProfile","onAddPlace","useState","cards","setCards","changeLikeCardStatus","newCard","state","map","c","catch","err","console","log","removeCard","newCards","filter","useEffect","getInitialCards","items","editButton","PopupWithForm","props","isOpen","onClose","onSubmit","title","children","submitButton","EditProfilePopup","onUpdateUser","setName","setAbout","e","preventDefault","id","placeholder","defaultValue","onChange","target","value","minLength","maxLength","required","ImagePopup","Footer","App","isEditProfileOpen","setIsEditProfileOpen","isAddPlacePopupOpn","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setUserInfo","closeAllPopups","gatherUserInfo","Provider","data","updateUserInfo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.866dbc08.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","import Logo  from '../images/logo.svg';\n\nfunction Header() {\n    return (\n      <header className=\"header\">\n        <img className=\"header__logo\" src={Logo} alt=\"Around the US\" />\n      </header>\n    )\n}\n\nexport default Header;","export default __webpack_public_path__ + \"static/media/edit.8667ac4a.svg\";","class Api {\n    constructor({ baseUrl, headers }) {\n        this._baseUrl = baseUrl;\n        this._headers = headers;\n    }\n\n    gatherUserInfo() {\n        return fetch(this._baseUrl + \"/users/me\", {\n            headers: this._headers\n          })\n          .then(res => res.ok ? res.json() : Promise.reject(new Error(res.statusText)))\n    }\n\n    updateUserInfo({name, about}) { \n        return fetch(this._baseUrl + \"/users/me\", {\n            method: \"PATCH\",\n            headers: this._headers,\n            body: JSON.stringify({\n                name,\n                about\n            })\n          })\n          .then(res => res.ok ? res.json() : Promise.reject(new Error(res.statusText)))\n    }\n\n    updateAvatar({avatar}) {\n        return fetch(this._baseUrl + \"/users/me/avatar\", {\n            method: \"PATCH\",\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar\n            })\n          })\n          .then(res => res.ok ? res.json() : Promise.reject(new Error(res.statusText)));\n    }\n  \n    getInitialCards() {\n      return fetch(this._baseUrl + \"/cards\", {\n          headers: this._headers\n        })\n        .then(res => res.ok ? res.json() : Promise.reject(new Error(res.statusText)))\n    }\n\n    addCard({name, link}) {\n        return fetch(this._baseUrl + \"/cards\", {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({\n                name,\n                link\n            })\n        })\n        .then(res => res.ok ? res.json() : Promise.reject(new Error(res.statusText)));\n    }\n\n    removeCard(cardId) {\n        return fetch(this._baseUrl + \"/cards/\" + cardId, {\n                method: \"DELETE\",\n                headers: this._headers\n            })\n            .then(res => res.ok ? res.json() : Promise.reject(new Error(res.statusText)));\n    }\n\n    /*addLike(cardId) {\n        return fetch(this._baseUrl + \"/cards/likes/\" + cardId, {\n                method: \"PUT\",\n                headers: this._headers\n            })\n            .then(res => res.ok ? res.json() : Promise.reject(new Error(res.statusText)));\n    }\n\n    removeLike(cardId) {\n        return fetch(this._baseUrl + \"/cards/likes/\" + cardId, {\n                method: \"DELETE\",\n                headers: this._headers\n            })\n            .then(res => res.ok ? res.json() : Promise.reject(new Error(res.statusText)));\n    }*/\n\n    changeLikeCardStatus(cardId, isLiked) {\n        return fetch(this._baseUrl + \"/cards/likes/\" + cardId, {\n                method: isLiked ? \"PUT\" : \"DELETE\",\n                headers: this._headers\n            })\n            .then(res => res.ok ? res.json() : Promise.reject(new Error(res.statusText)));\n    }\n    \n  \n}\n\nexport const api = new Api({\n    baseUrl: \"https://around.nomoreparties.co/v1/group-7\",\n    headers: {\n      authorization: \"20ab70d8-b14f-4271-bdde-c31cc9b6d660\",\n      \"Content-Type\": \"application/json\"\n    }\n});\n  \n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Card({card, handleCardClick, onCardLike, onCardDelete, setCardId}) {\n\n  const userInfo = React.useContext(CurrentUserContext);\n  const isOwn = card.owner._id === userInfo._id;\n  const isLiked = card.likes.some(i => i._id === userInfo._id);\n\n  const cardDeleteButton = (\n    `element__delete ${isOwn ? '' : 'element__hidden'}`\n  );\n\n  const cardLikeButton = (\n    `element__heart ${isLiked ? 'element__heart_active' : ''}`\n  ); \n\n  function handleClick() {\n    handleCardClick(card);\n  }  \n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    setCardId(card._id);\n    onCardDelete(card);\n  }\n\n  return(\n    <li className=\"element\"> \n      <button className={cardDeleteButton} type=\"button\" aria-label=\"delete\" onClick={handleDeleteClick}></button>\n      <img className=\"element__photo\" src={card.link} alt=\"unloadable\" onClick={handleClick} /> \n      <div className=\"element__container\">\n        <h2 className=\"element__title\">{card.name}</h2>\n          <div className=\"element__likes\">\n            <button className={cardLikeButton} type=\"button\" aria-label=\"heart\" onClick={handleLikeClick}></button>\n            <p className=\"element__number\">{card.likes.length}</p>\n          </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card;","import React from 'react';\nimport editButton from '../images/edit.svg';\nimport {api} from '../utils/Api.js';\nimport Card from './Card.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Main({handleCardClick, onEditAvatar, onEditProfile, onAddPlace, setCardId, cardId}) {\n\n  const [cards, setCards] = React.useState([]);\n\n  const userInfo = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n\n    api.getInitialCards().then((items) => {\n      setCards(items);\n    })\n    .catch((err) => console.log(err));\n\n  }, []);\n\n  function onCardLike(card) {\n    // Check one more time if this card was already liked\n    const isLiked = card.likes.some(i => i._id === userInfo._id);\n    \n    // Send a request to the API and getting the updated card data\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n    .catch((err) => console.log(err));\n  } \n\n  function onCardDelete() {\n    api.removeCard(cardId).then(() => {\n      const newCards = cards.filter((card) => card._id !== cardId);\n      setCards(newCards);\n    })\n    .catch((err) => console.log(err));\n  }\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <img className=\"profile__pic\" src={userInfo.avatar} alt=\"profile\" onClick={onEditAvatar}/>\n        <img className=\"profile__pic-edit\" src={editButton} alt=\"edit button\" />\n        <div className=\"profile__info\">\n          <h1 className=\"profile__title\">{userInfo.name}</h1>\n          <button className=\"profile__edit\" type=\"button\" aria-label=\"edit\" onClick={onEditProfile} />\n          <p className=\"profile__subtitle\">{userInfo.about}</p>\n          \n        </div>\n        <button className=\"profile__add-button\" type=\"button\" aria-label=\"add\" onClick={onAddPlace} />\n      </section>\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {cards.map(card => {\n            return(\n              <Card\n                card={card}\n                link={card.link}\n                name={card.name}\n                likes={card.likes}\n                key={card._id}\n                handleCardClick={handleCardClick}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}\n                setCardId={setCardId}\n              />\n            )\n          })}\n        </ul>\n      </section>\n    </main>\n  )\n}\n\nexport default Main;","function PopupWithForm(props)  {\n    return(\n      <div className={`popup popup_type_${props.name} ${props.isOpen ? (\"popup_opened\") : \"\"}`}>\n          <div className={`popup__container popup__container_type_${props.name}`}>\n            <button className=\"popup__close\" type=\"button\" aria-label=\"close\" onClick={props.onClose} />\n            <form className={`form form_type_${props.name}`} name={props.name} onSubmit={props.onSubmit}>\n              <h2 className=\"form__title\">{props.title}</h2>\n              {props.children}\n              <button className=\"form__button\" type=\"submit\" aria-label={props.name}>{props.submitButton}</button>\n            </form>\n          </div>\n      </div>\n    )\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup ({isOpen, onClose, onUpdateUser}) {\n  \n  const [name, setName] = React.useState('');\n  const [about, setAbout] = React.useState(''); //description\n\n  // Subscription to the context\n  const userInfo = React.useContext(CurrentUserContext);\n\n  // After loading the current user from the API\n  // their data will be used in managed components.\n  React.useEffect(() => {\n    setName(userInfo.name);\n    setAbout(userInfo.about); //description\n  }, [userInfo]); \n\n    function handleSubmit (e) {\n        e.preventDefault();\n        onUpdateUser({\n            name,\n            about, //description\n        });\n    };\n\n    function handleNameChange (e) {\n        setName(e.target.value)\n    }\n\n    function handleAboutChange (e) { //description\n        setAbout(e.target.value) //description\n    }\n    \n    return (\n      <PopupWithForm\n        name=\"edit\"\n        title=\"Edit Profile\"\n        submitButton=\"Save\"\n        isOpen={isOpen}\n        onSubmit={handleSubmit}\n        onClose={onClose}\n      >\n        <fieldset className=\"form__text\">\n          <input\n            id=\"profile-name\"\n            className=\"form__item form__item_field_name\"\n            type=\"text\"\n            name=\"name\"\n            placeholder=\"Name\"\n            defaultValue={name}\n            onChange={handleNameChange}\n            minLength={2}\n            maxLength={40}\n            required\n          />\n          <span\n            id=\"profile-name-error\"\n            className=\"form__error\"\n          />\n          <input\n            id=\"profile-text\"\n            className=\"form__item form__item_field_description\"\n            type=\"text\"\n            name=\"about\"\n            placeholder=\"About me\"\n            defaultValue={about} //description\n            onChange={handleAboutChange} //description\n            minLength={2}\n            maxLength={40}\n            required\n          />\n          <span\n            id=\"profile-text-error\"\n            className=\"form__error\"\n          />\n        </fieldset>\n      </PopupWithForm>\n    );\n}\n\nexport default EditProfilePopup;","function ImagePopup({card, onClose, isOpen}) {\n    return(\n        <div className={`popup popup_type_image ${isOpen && (\"popup_opened\")}`}>\n          <div className=\"popup__container popup__container_type_image\">\n            <button className=\"popup__close\" type=\"button\" aria-label=\"close\" onClick={onClose} />\n            <figure className=\"popup__figure\">\n              <img className=\"popup__image\" src={card.link} alt=\"unloadable\" />\n              <figcaption className=\"popup__image-title\">{card.name}</figcaption>\n            </figure>\n          </div>\n      </div>\n    )\n}\n\nexport default ImagePopup;","function Footer() {\n    return(\n      <footer className=\"footer\">\n        <p className=\"footer__text\">© 2020 Around The U.S.</p>\n      </footer>\n    )\n}\n\nexport default Footer;","import React from 'react';\nimport '../index.css';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport ImagePopup from './ImagePopup.js';\nimport Footer from './Footer.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport { api } from '../utils/Api';\n\nfunction App() {\n\n  const [isEditProfileOpen, setIsEditProfileOpen] = React.useState(false);\n  const [isAddPlacePopupOpn, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [cardId, setCardId] = React.useState('');\n  const [userInfo, setUserInfo] = React.useState({\n    name: '',\n    about: ''\n  });\n\n  function handleEditProfileClick() {\n    setIsEditProfileOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true)\n  }\n\n  function closeAllPopups() {\n    setIsEditProfileOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard({});\n  }\n\n  function handleUpdateUser(data) {\n    console.log(userInfo);\n    console.log(data);\n    api.updateUserInfo(data.name, data.about) //description\n      .then(res => {\n        setUserInfo(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    \n  }\n\n  React.useEffect(() => {\n    api.gatherUserInfo()\n      .then(res => {\n        setUserInfo(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n    \n  }, []);\n\n  return (\n  <CurrentUserContext.Provider value={userInfo}>\n  <div className=\"root\">\n  <div className=\"root__container\">\n    <Header />\n    <Main\n      onEditAvatar={handleEditAvatarClick}\n      onEditProfile={handleEditProfileClick}\n      onAddPlace={handleAddPlaceClick}\n      handleCardClick={handleCardClick}\n      setCardId={setCardId}\n      cardId={cardId}\n    />\n    \n    <EditProfilePopup \n      isOpen={isEditProfileOpen}\n      onClose={closeAllPopups}\n      onUpdateUser={handleUpdateUser}\n    />\n\n    <PopupWithForm\n      name=\"add\"\n      title=\"New Place\"\n      submitButton=\"Create\"\n      isOpen={isAddPlacePopupOpn}\n      onClose={closeAllPopups}\n    >\n      <fieldset className=\"form__text\">\n        <input id=\"card-title\" className=\"form__item form__item_field_title\" type=\"text\" name=\"name\" placeholder=\"Title\" minLength={1} maxLength={30} required />\n        <span id=\"card-title-error\" className=\"form__error\" />\n        <input id=\"card-url\" className=\"form__item form__item_field_image-url\" type=\"url\" name=\"link\" placeholder=\"Image Link\" required />\n        <span id=\"card-url-error\" className=\"form__error\" />\n      </fieldset>\n    </PopupWithForm>\n\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Change profile picture\"\n      submitButton=\"Save\"\n      isOpen={isEditAvatarPopupOpen}\n      onClose={closeAllPopups}\n    >\n      <fieldset className=\"form__text\">\n        <input id=\"avatar-url\" className=\"form__item form__item_field_avatar-url\" type=\"url\" name=\"link\" placeholder=\"Image Link\" required />\n        <span id=\"avatar-url-error\" className=\"form__error\" />\n      </fieldset>\n    </PopupWithForm>\n\n    <PopupWithForm\n      name=\"delete\"\n      title=\"Are you sure?\"\n      submitButton=\"Yes\"\n    >\n    </PopupWithForm>\n    <ImagePopup\n      card={selectedCard}\n      isOpen={isImagePopupOpen}\n      onClose={closeAllPopups}\n    />\n    <Footer />\n  </div>\n  \n</div>\n</CurrentUserContext.Provider>\n\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}